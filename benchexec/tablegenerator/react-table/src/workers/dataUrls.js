// This file is part of BenchExec, a framework for reliable benchmarking:
// https://github.com/sosy-lab/benchexec
//
// SPDX-FileCopyrightText: 2019-2020 Dirk Beyer <https://www.sosy-lab.org>
//
// SPDX-License-Identifier: Apache-2.0

const stats =
  "data:text/plain;base64,Ly8gVGhpcyBmaWxlIGlzIHBhcnQgb2YgQmVuY2hFeGVjLCBhIGZyYW1ld29yayBmb3IgcmVsaWFibGUgYmVuY2htYXJraW5nOgovLyBodHRwczovL2dpdGh1Yi5jb20vc29zeS1sYWIvYmVuY2hleGVjCi8vCi8vIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMTktMjAyMCBEaXJrIEJleWVyIDxodHRwczovL3d3dy5zb3N5LWxhYi5vcmc+Ci8vCi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wCgovLyBDT1BZIE9GIHV0aWxzLmpzLCBhcyBpbXBvcnRzIHdpbGwgbm90IHdvcmsgaGVyZQovKioKICogRnVuY3Rpb24gdG8gc2FmZWx5IGFkZCB0d28gbnVtYmVycyBpbiBhIHdheSB0aGF0IHNob3VsZCBtaXRpZ2F0ZSBlcnJvcnMKICogY2F1c2VkIGJ5IGluYWNjdXJhdGUgZmxvYXRpbmcgcG9pbnQgb3BlcmF0aW9ucyBpbiBqYXZhc2NyaXB0CiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gYSAtIFRoZSBiYXNlIG51bWJlcgogKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IGIgLSBUaGUgbnVtYmVyIHRvIGFkZAogKgogKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbgogKi8KY29uc3Qgc2FmZUFkZCA9IChhLCBiKSA9PiB7CiAgbGV0IGFOdW0gPSBhOwogIGxldCBiTnVtID0gYjsKCiAgaWYgKHR5cGVvZiBhID09PSAic3RyaW5nIikgewogICAgYU51bSA9IE51bWJlcihhKTsKICB9CiAgaWYgKHR5cGVvZiBiID09PSAic3RyaW5nIikgewogICAgYk51bSA9IE51bWJlcihiKTsKICB9CgogIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGFOdW0pIHx8IE51bWJlci5pc0ludGVnZXIoYk51bSkpIHsKICAgIHJldHVybiBhTnVtICsgYk51bTsKICB9CgogIGNvbnN0IGFTdHJpbmcgPSBhLnRvU3RyaW5nKCk7CiAgY29uc3QgYUxlbmd0aCA9IGFTdHJpbmcubGVuZ3RoOwogIGNvbnN0IGFEZWNpbWFsUG9pbnQgPSBhU3RyaW5nLmluZGV4T2YoIi4iKTsKICBjb25zdCBiU3RyaW5nID0gYi50b1N0cmluZygpOwogIGNvbnN0IGJMZW5ndGggPSBiU3RyaW5nLmxlbmd0aDsKICBjb25zdCBiRGVjaW1hbFBvaW50ID0gYlN0cmluZy5pbmRleE9mKCIuIik7CgogIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KGFMZW5ndGggLSBhRGVjaW1hbFBvaW50LCBiTGVuZ3RoIC0gYkRlY2ltYWxQb2ludCkgLSAxOwoKICByZXR1cm4gTnVtYmVyKChhTnVtICsgYk51bSkudG9GaXhlZChsZW5ndGgpKTsKfTsKCmNvbnN0IG1hdGhTdHJpbmdNYXggPSAoYSwgYikgPT4gewogIGNvbnN0IG51bUEgPSBOdW1iZXIoYSk7CiAgY29uc3QgbnVtQiA9IE51bWJlcihiKTsKICByZXR1cm4gbnVtQSA+IG51bUIgPyBhIDogYjsKfTsKCmNvbnN0IG1hdGhTdHJpbmdNaW4gPSAoYSwgYikgPT4gewogIGNvbnN0IG51bUEgPSBOdW1iZXIoYSk7CiAgY29uc3QgbnVtQiA9IE51bWJlcihiKTsKICByZXR1cm4gbnVtQSA8IG51bUIgPyBhIDogYjsKfTsKCi8qKgogKiBUaGlzIGZ1bmN0aW9uIGVpdGhlciBhZGRzIHR3byBudW1iZXJzIG9yIGluY3JlbWVudHMgdGhlIG51bWJlcgogKiBwYXNzZWQgaW4gdGhlIGZpcnN0IHBhcmFtZXRlciBpZiB0aGUgdHlwZSBpcyAic3RhdHVzIi4KICogSWYgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgbm90IGEgbnVtYmVyIGFuZCB0aGUgdHlwZSBpcyBub3Qgc3RhdHVzLAogKiB0aGUgZmlyc3QgcGFyYW1ldGVyIHdpbGwgYmUgcmV0dXJuZWQKICoKICogQHBhcmFtIHtOdW1iZXJ9IGEKICogQHBhcmFtIHsqfSBiCiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAqLwpjb25zdCBtYXliZUFkZCA9IChhLCBiLCB0eXBlKSA9PiB7CiAgaWYgKE51bWJlcihiKSkgewogICAgcmV0dXJuIHNhZmVBZGQoYSwgYik7CiAgfQogIGlmICh0eXBlID09PSAic3RhdHVzIikgewogICAgcmV0dXJuIGEgKyAxOwogIH0KICByZXR1cm4gYTsKfTsKCmNvbnN0IGNhbGN1bGF0ZU1lYW4gPSAodmFsdWVzLCBhbGxJdGVtcykgPT4gewogIGNvbnN0IG51bU1pbiA9IE51bWJlcih2YWx1ZXMubWluKTsKICBjb25zdCBudW1NYXggPSBOdW1iZXIodmFsdWVzLm1heCk7CiAgaWYgKG51bU1pbiA9PT0gLUluZmluaXR5ICYmIG51bU1heCA9PT0gSW5maW5pdHkpIHsKICAgIHZhbHVlcy5hdmcgPSAiTmFOIjsKICB9IGVsc2UgaWYgKG51bU1pbiA9PT0gLUluZmluaXR5KSB7CiAgICB2YWx1ZXMuYXZnID0gIi1JbmZpbml0eSI7CiAgfSBlbHNlIGlmIChudW1NYXggPT09IEluZmluaXR5KSB7CiAgICB2YWx1ZXMuYXZnID0gIkluZmluaXR5IjsKICB9IGVsc2UgewogICAgdmFsdWVzLmF2ZyA9IHZhbHVlcy5zdW0gLyBhbGxJdGVtcy5sZW5ndGg7CiAgfQp9OwoKY29uc3QgY2FsY3VsYXRlTWVkaWFuID0gKHZhbHVlcywgYWxsSXRlbXMpID0+IHsKICBpZiAoYWxsSXRlbXMubGVuZ3RoICUgMiA9PT0gMCkgewogICAgY29uc3QgaWR4ID0gYWxsSXRlbXMubGVuZ3RoIC8gMjsKICAgIHZhbHVlcy5tZWRpYW4gPQogICAgICAoTnVtYmVyKGFsbEl0ZW1zW2lkeCAtIDFdLmNvbHVtbikgKyBOdW1iZXIoYWxsSXRlbXNbaWR4XS5jb2x1bW4pKSAvIDIuMDsKICB9IGVsc2UgewogICAgdmFsdWVzLm1lZGlhbiA9IGFsbEl0ZW1zW01hdGguZmxvb3IoYWxsSXRlbXMubGVuZ3RoIC8gMi4wKV0uY29sdW1uOwogIH0KfTsKY29uc3QgY2FsY3VsYXRlU3RkZXYgPSAoaGFzTmVnSW5mLCBoYXNQb3NJbmYsIHZhcmlhbmNlLCBzaXplKSA9PiB7CiAgaWYgKGhhc05lZ0luZiAmJiBoYXNQb3NJbmYpIHsKICAgIHJldHVybiAiTmFOIjsKICB9CiAgaWYgKGhhc05lZ0luZiB8fCBoYXNQb3NJbmYpIHsKICAgIHJldHVybiBJbmZpbml0eTsKICB9CiAgcmV0dXJuIE1hdGguc3FydCh2YXJpYW5jZSAvIHNpemUpOwp9OwoKY29uc3QgcGFyc2VQeXRob25JbmZpbml0eVZhbHVlcyA9IChkYXRhKSA9PgogIGRhdGEubWFwKChpdGVtKSA9PiB7CiAgICBpZiAoaXRlbS5jb2x1bW5UeXBlID09PSAic3RhdHVzIiB8fCAhaXRlbS5jb2x1bW4uZW5kc1dpdGgoIkluZiIpKSB7CiAgICAgIHJldHVybiBpdGVtOwogICAgfQogICAgLy8gV2UgaGF2ZSBhIHB5dGhvbiBJbmZpbml0eSB2YWx1ZSB0aGF0IHdlIHdhbnQgdG8gdHJhbnNmZXIgdG8gYSBzdHJpbmcKICAgIC8vIHRoYXQgY2FuIGJlIGludGVycHJldGVkIGFzIGEgSmF2YVNjcmlwdCBJbmZpbml0eSB2YWx1ZQogICAgaXRlbS5jb2x1bW4gPSBpdGVtLmNvbHVtbi5yZXBsYWNlKCJJbmYiLCAiSW5maW5pdHkiKTsKICAgIHJldHVybiBpdGVtOwogIH0pOwoKLy8gSWYgYSBidWNrZXQgY29udGFpbnMgYSBOYU4gdmFsdWUsIHdlIGNhbiBub3QgcGVyZm9ybSBhbnkgc3RhdCBjYWxjdWxhdGlvbgpjb25zdCBzaG91bGRTa2lwQnVja2V0ID0gKGJ1Y2tldE1ldGEsIGtleSkgPT4gewogIGlmIChidWNrZXRNZXRhW2tleV0gJiYgYnVja2V0TWV0YVtrZXldLmhhc05hTikgewogICAgcmV0dXJuIHRydWU7CiAgfQogIHJldHVybiBmYWxzZTsKfTsKCm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgY29uc3QgeyBkYXRhLCB0cmFuc2FjdGlvbiB9ID0gZS5kYXRhOwoKICAvLyB0ZW1wbGF0ZQogIGNvbnN0IGRlZmF1bHRPYmogPSB7CiAgICBzdW06IDAsCiAgICBhdmc6IDAsCiAgICBtYXg6ICItSW5maW5pdHkiLAogICAgbWVkaWFuOiAwLAogICAgbWluOiAiSW5maW5pdHkiLAogICAgc3RkZXY6IDAsCiAgICB2YXJpYW5jZTogMCwKICB9OwoKICAvLyBDb3B5IG9mIHRoZSB0ZW1wbGF0ZSB3aXRoIGFsbCB2YWx1ZXMgcmVwbGFjZWQgd2l0aCBOYU4KICBjb25zdCBuYW5PYmogPSB7IC4uLmRlZmF1bHRPYmogfTsKICBmb3IgKGNvbnN0IG9iaktleSBvZiBPYmplY3Qua2V5cyhuYW5PYmopKSB7CiAgICBuYW5PYmpbb2JqS2V5XSA9ICJOYU4iOwogIH0KCiAgbGV0IGNvcHkgPSBbLi4uZGF0YV0uZmlsdGVyKAogICAgKGkpID0+IGkgJiYgaS5jb2x1bW4gIT09IHVuZGVmaW5lZCAmJiBpLmNvbHVtbiAhPT0gbnVsbCwKICApOwogIGNvcHkgPSBwYXJzZVB5dGhvbkluZmluaXR5VmFsdWVzKGNvcHkpOwoKICBpZiAoY29weS5sZW5ndGggPT09IDApIHsKICAgIC8vIE5vIGRhdGEgdG8gcGVyZm9ybSBjYWxjdWxhdGlvbnMgd2l0aAogICAgcG9zdFJlc3VsdCh7IHRvdGFsOiB1bmRlZmluZWQgfSwgdHJhbnNhY3Rpb24pOwogICAgcmV0dXJuOwogIH0KCiAgY29uc3QgeyBjb2x1bW5UeXBlIH0gPSBjb3B5WzBdOwoKICBjb3B5LnNvcnQoKGEsIGIpID0+IGEuY29sdW1uIC0gYi5jb2x1bW4pOwoKICBjb25zdCBidWNrZXRzID0ge307CiAgY29uc3QgYnVja2V0TmFOSW5mbyA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIE5hTiBpbmZvIG9mIGJ1Y2tldHMKCiAgbGV0IHRvdGFsID0geyAuLi5kZWZhdWx0T2JqLCBpdGVtczogW10gfTsKCiAgdG90YWwubWF4ID0gY29weVtjb3B5Lmxlbmd0aCAtIDFdLmNvbHVtbjsKICB0b3RhbC5taW4gPSBjb3B5WzBdLmNvbHVtbjsKCiAgY29uc3QgdG90YWxOYU5JbmZvID0gewogICAgaGFzTmFOOiBjb3B5LnNvbWUoKGl0ZW0pID0+IHsKICAgICAgaWYgKGl0ZW0uY29sdW1uVHlwZSAhPT0gInN0YXR1cyIgJiYgaXNOYU4oaXRlbS5jb2x1bW4pKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSksCiAgfTsKCiAgLy8gQnVja2V0IHNldHVwIHdpdGggc3VtIGFuZCBtaW4vbWF4CiAgZm9yIChjb25zdCBpdGVtIG9mIGNvcHkpIHsKICAgIGNvbnN0IGtleSA9IGAke2l0ZW0uY2F0ZWdvcnlUeXBlfS0ke2l0ZW0ucmVzdWx0VHlwZX1gOwogICAgY29uc3QgdG90YWxLZXkgPSBgJHtpdGVtLmNhdGVnb3J5VHlwZX0tdG90YWxgOwogICAgY29uc3QgeyBjb2x1bW5UeXBlOiB0eXBlLCBjb2x1bW4sIGNvbHVtblRpdGxlOiB0aXRsZSB9ID0gaXRlbTsKICAgIGlmICghdG90YWwudGl0bGUpIHsKICAgICAgdG90YWwudGl0bGUgPSB0aXRsZTsKICAgIH0KICAgIGNvbnN0IGJ1Y2tldCA9IGJ1Y2tldHNba2V5XSB8fCB7CiAgICAgIC4uLmRlZmF1bHRPYmosCiAgICAgIHRpdGxlLAogICAgICBpdGVtczogW10sCiAgICB9OwoKICAgIGNvbnN0IHN1YlRvdGFsQnVja2V0ID0gYnVja2V0c1t0b3RhbEtleV0gfHwgewogICAgICAuLi5kZWZhdWx0T2JqLAogICAgICB0aXRsZSwKICAgICAgaXRlbXM6IFtdLAogICAgfTsKCiAgICBjb25zdCBpdGVtSXNOYU4gPSB0eXBlICE9PSAic3RhdHVzIiAmJiBpc05hTihjb2x1bW4pOwoKICAgIC8vIGlmIG9uZSBpdGVtIGlzIE5hTiB3ZSBzdG9yZSB0aGF0IGluZm8gc28gd2UgY2FuIGRlZmF1bHQgYWxsCiAgICAvLyBjYWxjdWxhdGVkIHZhbHVlcyBmb3IgdGhpcyBidWNrZXQgdG8gTmFOCiAgICBpZiAoaXRlbUlzTmFOKSB7CiAgICAgIGJ1Y2tldE5hTkluZm9ba2V5XSA9IHsgaGFzTmFOOiB0cnVlIH07CiAgICAgIGJ1Y2tldE5hTkluZm9bdG90YWxLZXldID0geyBoYXNOYU46IHRydWUgfTsKCiAgICAgIC8vIHNldCBhbGwgdmFsdWVzIGZvciB0aGlzIGJ1Y2tldCB0byBOYU4KICAgICAgYnVja2V0c1trZXldID0geyAuLi5uYW5PYmosIHRpdGxlIH07CiAgICAgIGJ1Y2tldHNbdG90YWxLZXldID0geyAuLi5uYW5PYmosIHRpdGxlIH07CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIHdlIGNoZWNrIGlmIHdlIHNob3VsZCBza2lwIGNhbGN1bGF0aW9uIGZvciB0aGVzZSBidWNrZXRzCiAgICBjb25zdCBza2lwQnVja2V0ID0gc2hvdWxkU2tpcEJ1Y2tldChidWNrZXROYU5JbmZvLCBrZXkpOwogICAgY29uc3Qgc2tpcFN1YlRvdGFsID0gc2hvdWxkU2tpcEJ1Y2tldChidWNrZXROYU5JbmZvLCB0b3RhbEtleSk7CgogICAgaWYgKCFza2lwQnVja2V0KSB7CiAgICAgIGJ1Y2tldC5zdW0gPSBtYXliZUFkZChidWNrZXQuc3VtLCBjb2x1bW4sIHR5cGUpOwogICAgfQogICAgaWYgKCFza2lwU3ViVG90YWwpIHsKICAgICAgc3ViVG90YWxCdWNrZXQuc3VtID0gbWF5YmVBZGQoc3ViVG90YWxCdWNrZXQuc3VtLCBjb2x1bW4sIHR5cGUpOwogICAgfQogICAgaWYgKCF0b3RhbE5hTkluZm8uaGFzTmFOKSB7CiAgICAgIHRvdGFsLnN1bSA9IG1heWJlQWRkKHRvdGFsLnN1bSwgY29sdW1uLCB0eXBlKTsKICAgIH0KCiAgICBpZiAoIWlzTmFOKE51bWJlcihjb2x1bW4pKSkgewogICAgICBpZiAoIXNraXBCdWNrZXQpIHsKICAgICAgICBidWNrZXQubWF4ID0gbWF0aFN0cmluZ01heChidWNrZXQubWF4LCBjb2x1bW4pOwogICAgICAgIGJ1Y2tldC5taW4gPSBtYXRoU3RyaW5nTWluKGJ1Y2tldC5taW4sIGNvbHVtbik7CiAgICAgIH0KICAgICAgaWYgKCFza2lwU3ViVG90YWwpIHsKICAgICAgICBzdWJUb3RhbEJ1Y2tldC5tYXggPSBtYXRoU3RyaW5nTWF4KHN1YlRvdGFsQnVja2V0Lm1heCwgY29sdW1uKTsKICAgICAgICBzdWJUb3RhbEJ1Y2tldC5taW4gPSBtYXRoU3RyaW5nTWluKHN1YlRvdGFsQnVja2V0Lm1pbiwgY29sdW1uKTsKICAgICAgfQogICAgfQogICAgaWYgKCFza2lwQnVja2V0KSB7CiAgICAgIHRyeSB7CiAgICAgICAgYnVja2V0Lml0ZW1zLnB1c2goaXRlbSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmUoeyBidWNrZXQsIGJ1Y2tldE1ldGE6IGJ1Y2tldE5hTkluZm8sIGtleSB9KTsKICAgICAgfQogICAgfQogICAgaWYgKCFza2lwU3ViVG90YWwpIHsKICAgICAgdHJ5IHsKICAgICAgICBzdWJUb3RhbEJ1Y2tldC5pdGVtcy5wdXNoKGl0ZW0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lKHsgc3ViVG90YWxCdWNrZXQsIGJ1Y2tldE1ldGE6IGJ1Y2tldE5hTkluZm8sIHRvdGFsS2V5IH0pOwogICAgICB9CiAgICB9CgogICAgYnVja2V0c1trZXldID0gYnVja2V0OwogICAgYnVja2V0c1t0b3RhbEtleV0gPSBzdWJUb3RhbEJ1Y2tldDsKICB9CgogIGZvciAoY29uc3QgW2J1Y2tldCwgdmFsdWVzXSBvZiBPYmplY3QuZW50cmllcyhidWNrZXRzKSkgewogICAgaWYgKHNob3VsZFNraXBCdWNrZXQoYnVja2V0TmFOSW5mbywgYnVja2V0KSkgewogICAgICBjb250aW51ZTsKICAgIH0KICAgIGNhbGN1bGF0ZU1lYW4odmFsdWVzLCB2YWx1ZXMuaXRlbXMpOwoKICAgIGNhbGN1bGF0ZU1lZGlhbih2YWx1ZXMsIHZhbHVlcy5pdGVtcyk7CiAgICBidWNrZXRzW2J1Y2tldF0gPSB2YWx1ZXM7CiAgfQogIGNvbnN0IHRvdGFsSGFzTmFOID0gdG90YWxOYU5JbmZvLmhhc05hTjsKCiAgaWYgKHRvdGFsSGFzTmFOKSB7CiAgICB0b3RhbCA9IHsgLi4udG90YWwsIC4uLm5hbk9iaiB9OwogIH0gZWxzZSB7CiAgICBjYWxjdWxhdGVNZWFuKHRvdGFsLCBjb3B5KTsKICAgIGNhbGN1bGF0ZU1lZGlhbih0b3RhbCwgY29weSk7CiAgfQoKICBmb3IgKGNvbnN0IGl0ZW0gb2YgY29weSkgewogICAgY29uc3QgeyBjb2x1bW4gfSA9IGl0ZW07CiAgICBpZiAoaXNOYU4oTnVtYmVyKGNvbHVtbikpKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgY29uc3QgbnVtQ29sID0gTnVtYmVyKGNvbHVtbik7CiAgICBjb25zdCBrZXkgPSBgJHtpdGVtLmNhdGVnb3J5VHlwZX0tJHtpdGVtLnJlc3VsdFR5cGV9YDsKICAgIGNvbnN0IHRvdGFsS2V5ID0gYCR7aXRlbS5jYXRlZ29yeVR5cGV9LXRvdGFsYDsKICAgIGNvbnN0IGJ1Y2tldCA9IGJ1Y2tldHNba2V5XTsKICAgIGNvbnN0IHN1YlRvdGFsQnVja2V0ID0gYnVja2V0c1t0b3RhbEtleV07CiAgICBjb25zdCBkaWZmQnVja2V0ID0gbnVtQ29sIC0gYnVja2V0LmF2ZzsKICAgIGNvbnN0IGRpZmZTdWJUb3RhbCA9IG51bUNvbCAtIHN1YlRvdGFsQnVja2V0LmF2ZzsKICAgIGNvbnN0IGRpZmZUb3RhbCA9IG51bUNvbCAtIHRvdGFsLmF2ZzsKICAgIHRvdGFsLnZhcmlhbmNlICs9IE1hdGgucG93KGRpZmZUb3RhbCwgMik7CiAgICBidWNrZXQudmFyaWFuY2UgKz0gTWF0aC5wb3coZGlmZkJ1Y2tldCwgMik7CiAgICBzdWJUb3RhbEJ1Y2tldC52YXJpYW5jZSArPSBNYXRoLnBvdyhkaWZmU3ViVG90YWwsIDIpOwogIH0KCiAgY29uc3QgdG90YWxIYXNOZWdJbmYgPSBOdW1iZXIodG90YWwubWluKSA9PT0gLUluZmluaXR5OwogIGNvbnN0IHRvdGFsSGFzUG9zSW5mID0gTnVtYmVyKHRvdGFsLm1heCkgPT09IEluZmluaXR5OwogIHRvdGFsLnN0ZGV2ID0gY2FsY3VsYXRlU3RkZXYoCiAgICB0b3RhbEhhc05lZ0luZiwKICAgIHRvdGFsSGFzUG9zSW5mLAogICAgdG90YWwudmFyaWFuY2UsCiAgICBjb3B5Lmxlbmd0aCwKICApOwoKICBmb3IgKGNvbnN0IFtidWNrZXQsIHZhbHVlc10gb2YgT2JqZWN0LmVudHJpZXMoYnVja2V0cykpIHsKICAgIGlmIChzaG91bGRTa2lwQnVja2V0KGJ1Y2tldE5hTkluZm8sIGJ1Y2tldCkpIHsKICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlcykpIHsKICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbC50b1N0cmluZygpOwogICAgICB9CiAgICAgIGJ1Y2tldHNbYnVja2V0XSA9IHZhbHVlczsKICAgICAgY29udGludWU7CiAgICB9CiAgICBjb25zdCB2YWx1ZXNIYXZlTmVnSW5mID0gTnVtYmVyKHZhbHVlcy5taW4pID09PSAtSW5maW5pdHk7CiAgICBjb25zdCB2YWx1ZXNIYXZlUG9zSW5mID0gTnVtYmVyKHRvdGFsLm1heCkgPT09IEluZmluaXR5OwogICAgdmFsdWVzLnN0ZGV2ID0gY2FsY3VsYXRlU3RkZXYoCiAgICAgIHZhbHVlc0hhdmVOZWdJbmYsCiAgICAgIHZhbHVlc0hhdmVQb3NJbmYsCiAgICAgIHZhbHVlcy52YXJpYW5jZSwKICAgICAgdmFsdWVzLml0ZW1zLmxlbmd0aCwKICAgICk7CgogICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlcykpIHsKICAgICAgdmFsdWVzW2tleV0gPSB2YWwudG9TdHJpbmcoKTsKICAgIH0KICAgIC8vIGNsZWFyaW5nIG1lbW9yeQogICAgZGVsZXRlIHZhbHVlcy5pdGVtczsKICAgIGRlbGV0ZSB2YWx1ZXMudmFyaWFuY2U7CiAgICBidWNrZXRzW2J1Y2tldF0gPSB2YWx1ZXM7CiAgfQoKICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0b3RhbCkpIHsKICAgIHRvdGFsW2tleV0gPSB2YWx1ZS50b1N0cmluZygpOwogIH0KCiAgZGVsZXRlIHRvdGFsLml0ZW1zOwogIGRlbGV0ZSB0b3RhbC52YXJpYW5jZTsKCiAgY29uc3QgcmVzdWx0ID0geyBjb2x1bW5UeXBlLCB0b3RhbCwgLi4uYnVja2V0cyB9OwogIHBvc3RSZXN1bHQocmVzdWx0LCB0cmFuc2FjdGlvbik7Cn07Cgpjb25zdCBwb3N0UmVzdWx0ID0gKHJlc3VsdCwgdHJhbnNhY3Rpb24pID0+IHsKICAvLyBoYW5kbGluZyBpbiB0ZXN0cwogIGlmICh0aGlzLm1vY2tlZFBvc3RNZXNzYWdlKSB7CiAgICB0aGlzLm1vY2tlZFBvc3RNZXNzYWdlKHsgcmVzdWx0LCB0cmFuc2FjdGlvbiB9KTsKICAgIHJldHVybjsKICB9CiAgcG9zdE1lc3NhZ2UoeyByZXN1bHQsIHRyYW5zYWN0aW9uIH0pOwp9Owo=";

export { stats };
