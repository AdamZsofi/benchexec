// This file is part of BenchExec, a framework for reliable benchmarking:
// https://github.com/sosy-lab/benchexec
//
// SPDX-FileCopyrightText: 2019-2020 Dirk Beyer <https://www.sosy-lab.org>
//
// SPDX-License-Identifier: Apache-2.0

const stats =
  "data:text/plain;base64,Ly8gVGhpcyBmaWxlIGlzIHBhcnQgb2YgQmVuY2hFeGVjLCBhIGZyYW1ld29yayBmb3IgcmVsaWFibGUgYmVuY2htYXJraW5nOgovLyBodHRwczovL2dpdGh1Yi5jb20vc29zeS1sYWIvYmVuY2hleGVjCi8vCi8vIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMTktMjAyMCBEaXJrIEJleWVyIDxodHRwczovL3d3dy5zb3N5LWxhYi5vcmc+Ci8vCi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wCgpjb25zdCBtYXliZUFkZCA9IChhLCBiLCB0eXBlKSA9PiB7CiAgaWYgKE51bWJlcihiKSkgewogICAgcmV0dXJuIGEgKyBOdW1iZXIoYik7CiAgfQogIGlmICh0eXBlID09PSAic3RhdHVzIikgewogICAgcmV0dXJuIGEgKyAxOwogIH0KICByZXR1cm4gYTsKfTsKCm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgY29uc3QgeyBkYXRhLCB0cmFuc2FjdGlvbiB9ID0gZS5kYXRhOwoKICBjb25zdCBkZWZhdWx0T2JqID0gewogICAgc3VtOiAwLAogICAgYXZnOiAwLAogICAgbWF4OiAwLAogICAgbWVkaWFuOiAwLAogICAgbWluOiBJbmZpbml0eSwKICAgIHN0ZGV2OiAwLAogICAgdmFyaWFuY2U6IDAsCiAgICBpdGVtczogW10sCiAgfTsKCiAgY29uc3QgY29weSA9IFsuLi5kYXRhXTsKICBjb25zdCBidWNrZXRzID0ge307CiAgY29weS5zb3J0KChhLCBiKSA9PiBhLmNvbHVtbiAtIGIuY29sdW1uKTsKCiAgY29uc3QgdG90YWwgPSB7IC4uLmRlZmF1bHRPYmogfTsKCiAgdG90YWwubWF4ID0gY29weVtjb3B5Lmxlbmd0aCAtIDFdLmNvbHVtbjsKICB0b3RhbC5taW4gPSBjb3B5WzBdLmNvbHVtbjsKCiAgLy8gY2FsY3VsYXRpb24KICBmb3IgKGNvbnN0IGl0ZW0gb2YgY29weSkgewogICAgY29uc3Qga2V5ID0gYCR7aXRlbS5jYXRlZ29yeVR5cGV9LSR7aXRlbS5yZXN1bHRUeXBlfWA7CiAgICBjb25zdCB0b3RhbEtleSA9IGAke2l0ZW0uY2F0ZWdvcnlUeXBlfS10b3RhbGA7CiAgICBjb25zdCBidWNrZXQgPSBidWNrZXRzW2tleV0gfHwgewogICAgICAuLi5kZWZhdWx0T2JqLAogICAgfTsKICAgIGNvbnN0IHsgY29sdW1uVHlwZTogdHlwZSwgY29sdW1uIH0gPSBpdGVtOwoKICAgIGNvbnN0IHN1YlRvdGFsQnVja2V0ID0gYnVja2V0c1t0b3RhbEtleV0gfHwgeyAuLi5kZWZhdWx0T2JqIH07CgogICAgYnVja2V0LnN1bSA9IG1heWJlQWRkKGJ1Y2tldC5zdW0sIGNvbHVtbiwgdHlwZSk7CiAgICBzdWJUb3RhbEJ1Y2tldC5zdW0gPSBtYXliZUFkZChzdWJUb3RhbEJ1Y2tldC5zdW0sIGNvbHVtbiwgdHlwZSk7CgogICAgaWYgKCFpc05hTihOdW1iZXIoY29sdW1uKSkpIHsKICAgICAgY29uc3QgbnVtQ29sID0gTnVtYmVyKGNvbHVtbik7CiAgICAgIGJ1Y2tldC5tYXggPSBNYXRoLm1heChidWNrZXQubWF4LCBudW1Db2wpOwogICAgICBidWNrZXQubWluID0gTWF0aC5taW4oYnVja2V0Lm1pbiwgbnVtQ29sKTsKICAgICAgc3ViVG90YWxCdWNrZXQubWF4ID0gTWF0aC5tYXgoc3ViVG90YWxCdWNrZXQubWF4LCBudW1Db2wpOwogICAgICBzdWJUb3RhbEJ1Y2tldC5taW4gPSBNYXRoLm1pbihzdWJUb3RhbEJ1Y2tldC5taW4sIG51bUNvbCk7CiAgICB9IGVsc2UgewogICAgICAvL2NvbnNvbGUubG9nKGBTa2lwcGluZyAke2NvbHVtbn1gKTsKICAgIH0KCiAgICB0b3RhbC5zdW0gPSBtYXliZUFkZCh0b3RhbC5zdW0sIGNvbHVtbiwgdHlwZSk7CgogICAgYnVja2V0Lml0ZW1zLnB1c2goaXRlbSk7CiAgICBzdWJUb3RhbEJ1Y2tldC5pdGVtcy5wdXNoKGl0ZW0pOwoKICAgIGJ1Y2tldHNba2V5XSA9IGJ1Y2tldDsKICAgIGJ1Y2tldHNbdG90YWxLZXldID0gc3ViVG90YWxCdWNrZXQ7CiAgfQoKICBmb3IgKGNvbnN0IFtidWNrZXQsIHZhbHVlc10gb2YgT2JqZWN0LmVudHJpZXMoYnVja2V0cykpIHsKICAgIC8vIGNvbnNvbGUubG9nKHsgdmFsdWVzIH0pOwogICAgdmFsdWVzLmF2ZyA9IHZhbHVlcy5zdW0gLyB2YWx1ZXMuaXRlbXMubGVuZ3RoOwoKICAgIGlmICh2YWx1ZXMuaXRlbXMubGVuZ3RoICUgMiA9PT0gMCkgewogICAgICBjb25zdCBpZHggPSB2YWx1ZXMuaXRlbXMubGVuZ3RoIC8gMjsKICAgICAgdmFsdWVzLm1lZGlhbiA9CiAgICAgICAgKE51bWJlcih2YWx1ZXMuaXRlbXNbaWR4IC0gMV0uY29sdW1uKSArCiAgICAgICAgICBOdW1iZXIodmFsdWVzLml0ZW1zW2lkeF0uY29sdW1uKSkgLwogICAgICAgIDIuMDsKICAgIH0gZWxzZSB7CiAgICAgIHZhbHVlcy5tZWRpYW4gPSBOdW1iZXIoCiAgICAgICAgdmFsdWVzLml0ZW1zW01hdGguZmxvb3IodmFsdWVzLml0ZW1zLmxlbmd0aCAvIDIuMCldLmNvbHVtbiwKICAgICAgKTsKICAgIH0KICAgIGJ1Y2tldHNbYnVja2V0XSA9IHZhbHVlczsKICB9CiAgdG90YWwuYXZnID0gdG90YWwuc3VtIC8gY29weS5sZW5ndGg7CiAgaWYgKGNvcHkubGVuZ3RoICUgMiA9PT0gMCkgewogICAgLy8gZXZlbiwgd2UgbmVlZCBhbiBleHRyYSBzdGVwIHRvIGNhbGN1bGF0ZSB0aGUgbWVkaWFuCiAgICBjb25zdCBpZHggPSBjb3B5Lmxlbmd0aCAvIDI7CiAgICB0b3RhbC5tZWRpYW4gPQogICAgICAoTnVtYmVyKGNvcHlbaWR4IC0gMV0uY29sdW1uKSArIE51bWJlcihjb3B5W2lkeF0uY29sdW1uKSkgLyAyLjA7CiAgfSBlbHNlIHsKICAgIC8vIGV6cHoKICAgIHRvdGFsLm1lZGlhbiA9IE51bWJlcihjb3B5W01hdGguZmxvb3IoY29weS5sZW5ndGggLyAyLjApXS5jb2x1bW4pOwogIH0KCiAgZm9yIChjb25zdCBpdGVtIG9mIGNvcHkpIHsKICAgIGNvbnN0IHsgY29sdW1uIH0gPSBpdGVtOwogICAgaWYgKGlzTmFOKE51bWJlcihjb2x1bW4pKSkgewogICAgICBjb250aW51ZTsKICAgIH0KICAgIGNvbnN0IG51bUNvbCA9IE51bWJlcihjb2x1bW4pOwogICAgY29uc3QgYnVja2V0ID0gYnVja2V0c1tgJHtpdGVtLmNhdGVnb3J5VHlwZX0tJHtpdGVtLnJlc3VsdFR5cGV9YF07CiAgICBjb25zdCB0b3RhbEtleSA9IGAke2l0ZW0uY2F0ZWdvcnlUeXBlfS10b3RhbGA7CiAgICBjb25zdCBzdWJUb3RhbEJ1Y2tldCA9IGJ1Y2tldHNbdG90YWxLZXldOwogICAgY29uc3QgZGlmZkJ1Y2tldCA9IG51bUNvbCAtIGJ1Y2tldC5hdmc7CiAgICBjb25zdCBkaWZmU3ViVG90YWwgPSBudW1Db2wgLSBzdWJUb3RhbEJ1Y2tldC5hdmc7CiAgICBjb25zdCBkaWZmVG90YWwgPSBudW1Db2wgLSB0b3RhbC5hdmc7CiAgICB0b3RhbC52YXJpYW5jZSArPSBNYXRoLnBvdyhkaWZmVG90YWwsIDIpOwogICAgYnVja2V0LnZhcmlhbmNlICs9IE1hdGgucG93KGRpZmZCdWNrZXQsIDIpOwogICAgc3ViVG90YWxCdWNrZXQudmFyaWFuY2UgKz0gTWF0aC5wb3coZGlmZlN1YlRvdGFsLCAyKTsKICB9CgogIHRvdGFsLnN0ZGV2ID0gTWF0aC5zcXJ0KHRvdGFsLnZhcmlhbmNlIC8gY29weS5sZW5ndGgpOwoKICBmb3IgKGNvbnN0IFtidWNrZXQsIHZhbHVlc10gb2YgT2JqZWN0LmVudHJpZXMoYnVja2V0cykpIHsKICAgIHZhbHVlcy5zdGRldiA9IE1hdGguc3FydCh2YWx1ZXMudmFyaWFuY2UgLyB2YWx1ZXMuaXRlbXMubGVuZ3RoKTsKICAgIC8vIGNsZWFyaW5nIG1lbW9yeQogICAgZGVsZXRlIHZhbHVlcy5pdGVtczsKICAgIGRlbGV0ZSB2YWx1ZXMudmFyaWFuY2U7CiAgICBidWNrZXRzW2J1Y2tldF0gPSB2YWx1ZXM7CiAgfQoKICBkZWxldGUgdG90YWwuaXRlbXM7CiAgZGVsZXRlIHRvdGFsLnZhcmlhbmNlOwoKICBjb25zdCByZXN1bHQgPSB7IHRvdGFsLCAuLi5idWNrZXRzIH07CgogIC8vIGhhbmRsaW5nIGluIHRlc3RzCiAgaWYgKHRoaXMubW9ja2VkUG9zdE1lc3NhZ2UpIHsKICAgIHRoaXMubW9ja2VkUG9zdE1lc3NhZ2UoeyByZXN1bHQsIHRyYW5zYWN0aW9uIH0pOwogICAgcmV0dXJuOwogIH0KICBwb3N0TWVzc2FnZSh7IHJlc3VsdCwgdHJhbnNhY3Rpb24gfSk7Cn07Cg==";

export { stats };
