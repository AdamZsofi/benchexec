// This file is part of BenchExec, a framework for reliable benchmarking:
// https://github.com/sosy-lab/benchexec
//
// SPDX-FileCopyrightText: 2019-2020 Dirk Beyer <https://www.sosy-lab.org>
//
// SPDX-License-Identifier: Apache-2.0

const stats =
  "data:text/plain;base64,Ly8gVGhpcyBmaWxlIGlzIHBhcnQgb2YgQmVuY2hFeGVjLCBhIGZyYW1ld29yayBmb3IgcmVsaWFibGUgYmVuY2htYXJraW5nOgovLyBodHRwczovL2dpdGh1Yi5jb20vc29zeS1sYWIvYmVuY2hleGVjCi8vCi8vIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMTktMjAyMCBEaXJrIEJleWVyIDxodHRwczovL3d3dy5zb3N5LWxhYi5vcmc+Ci8vCi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wCgpjb25zdCBtYXliZUFkZCA9IChhLCBiLCB0eXBlKSA9PiB7CiAgaWYgKE51bWJlcihiKSkgewogICAgcmV0dXJuIGEgKyBOdW1iZXIoYik7CiAgfQogIGlmICh0eXBlID09PSAic3RhdHVzIikgewogICAgcmV0dXJuIGEgKyAxOwogIH0KICByZXR1cm4gYTsKfTsKCm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgY29uc3QgeyBkYXRhLCB0cmFuc2FjdGlvbiB9ID0gZS5kYXRhOwoKICBjb25zdCBkZWZhdWx0T2JqID0gewogICAgc3VtOiAwLAogICAgYXZnOiAwLAogICAgbWF4OiAwLAogICAgbWVkaWFuOiAwLAogICAgbWluOiBJbmZpbml0eSwKICAgIHN0ZGV2OiAwLAogICAgdmFyaWFuY2U6IDAsCiAgfTsKCiAgY29uc3QgY29weSA9IFsuLi5kYXRhXTsKICBjb25zdCBidWNrZXRzID0ge307CiAgY29weS5zb3J0KChhLCBiKSA9PiBhLmNvbHVtbiAtIGIuY29sdW1uKTsKCiAgY29uc3QgdG90YWwgPSB7IC4uLmRlZmF1bHRPYmosIGl0ZW1zOiBbXSB9OwoKICB0b3RhbC5tYXggPSBjb3B5W2NvcHkubGVuZ3RoIC0gMV0uY29sdW1uOwogIHRvdGFsLm1pbiA9IGNvcHlbMF0uY29sdW1uOwoKICBsZXQgY29weUl0cyA9IDA7CiAgLy8gY2FsY3VsYXRpb24KICBmb3IgKGNvbnN0IGl0ZW0gb2YgY29weSkgewogICAgY29weUl0cysrOwogICAgY29uc3Qga2V5ID0gYCR7aXRlbS5jYXRlZ29yeVR5cGV9LSR7aXRlbS5yZXN1bHRUeXBlfWA7CiAgICBjb25zdCB0b3RhbEtleSA9IGAke2l0ZW0uY2F0ZWdvcnlUeXBlfS10b3RhbGA7CiAgICBjb25zdCBidWNrZXQgPSBidWNrZXRzW2tleV0gfHwgewogICAgICAuLi5kZWZhdWx0T2JqLAogICAgICBpdGVtczogW10sCiAgICB9OwogICAgY29uc3QgeyBjb2x1bW5UeXBlOiB0eXBlLCBjb2x1bW4gfSA9IGl0ZW07CgogICAgY29uc3Qgc3ViVG90YWxCdWNrZXQgPSBidWNrZXRzW3RvdGFsS2V5XSB8fCB7CiAgICAgIC4uLmRlZmF1bHRPYmosCiAgICAgIGl0ZW1zOiBbXSwKICAgIH07CgogICAgYnVja2V0LnN1bSA9IG1heWJlQWRkKGJ1Y2tldC5zdW0sIGNvbHVtbiwgdHlwZSk7CiAgICBzdWJUb3RhbEJ1Y2tldC5zdW0gPSBtYXliZUFkZChzdWJUb3RhbEJ1Y2tldC5zdW0sIGNvbHVtbiwgdHlwZSk7CgogICAgaWYgKCFpc05hTihOdW1iZXIoY29sdW1uKSkpIHsKICAgICAgY29uc3QgbnVtQ29sID0gTnVtYmVyKGNvbHVtbik7CiAgICAgIGJ1Y2tldC5tYXggPSBNYXRoLm1heChidWNrZXQubWF4LCBudW1Db2wpOwogICAgICBidWNrZXQubWluID0gTWF0aC5taW4oYnVja2V0Lm1pbiwgbnVtQ29sKTsKICAgICAgc3ViVG90YWxCdWNrZXQubWF4ID0gTWF0aC5tYXgoc3ViVG90YWxCdWNrZXQubWF4LCBudW1Db2wpOwogICAgICBzdWJUb3RhbEJ1Y2tldC5taW4gPSBNYXRoLm1pbihzdWJUb3RhbEJ1Y2tldC5taW4sIG51bUNvbCk7CiAgICB9IGVsc2UgewogICAgfQoKICAgIHRvdGFsLnN1bSA9IG1heWJlQWRkKHRvdGFsLnN1bSwgY29sdW1uLCB0eXBlKTsKCiAgICBidWNrZXQuaXRlbXMucHVzaChpdGVtKTsKICAgIHN1YlRvdGFsQnVja2V0Lml0ZW1zLnB1c2goaXRlbSk7CgogICAgYnVja2V0c1trZXldID0gYnVja2V0OwogICAgYnVja2V0c1t0b3RhbEtleV0gPSBzdWJUb3RhbEJ1Y2tldDsKICB9CgogIGZvciAoY29uc3QgW2J1Y2tldCwgdmFsdWVzXSBvZiBPYmplY3QuZW50cmllcyhidWNrZXRzKSkgewogICAgLy8gY29uc29sZS5sb2coeyB2YWx1ZXMgfSk7CiAgICB2YWx1ZXMuYXZnID0gdmFsdWVzLnN1bSAvIHZhbHVlcy5pdGVtcy5sZW5ndGg7CgogICAgY29uc29sZS5sb2coCiAgICAgIGB2YWx1ZXMuYXZnID0gJHt2YWx1ZXMuc3VtfSAvICR7dmFsdWVzLml0ZW1zLmxlbmd0aH0gPSAke3ZhbHVlcy5hdmd9YCwKICAgICk7CgogICAgaWYgKHZhbHVlcy5pdGVtcy5sZW5ndGggJSAyID09PSAwKSB7CiAgICAgIGNvbnN0IGlkeCA9IHZhbHVlcy5pdGVtcy5sZW5ndGggLyAyOwogICAgICB2YWx1ZXMubWVkaWFuID0KICAgICAgICAoTnVtYmVyKHZhbHVlcy5pdGVtc1tpZHggLSAxXS5jb2x1bW4pICsKICAgICAgICAgIE51bWJlcih2YWx1ZXMuaXRlbXNbaWR4XS5jb2x1bW4pKSAvCiAgICAgICAgMi4wOwogICAgfSBlbHNlIHsKICAgICAgdmFsdWVzLm1lZGlhbiA9IE51bWJlcigKICAgICAgICB2YWx1ZXMuaXRlbXNbTWF0aC5mbG9vcih2YWx1ZXMuaXRlbXMubGVuZ3RoIC8gMi4wKV0uY29sdW1uLAogICAgICApOwogICAgfQogICAgYnVja2V0c1tidWNrZXRdID0gdmFsdWVzOwogIH0KICB0b3RhbC5hdmcgPSB0b3RhbC5zdW0gLyBjb3B5Lmxlbmd0aDsKICBjb25zb2xlLmxvZyhgdG90YWwuYXZnID0gJHt0b3RhbC5zdW19IC8gJHtjb3B5Lmxlbmd0aH0gPSAke3RvdGFsLmF2Z31gKTsKICBpZiAoY29weS5sZW5ndGggJSAyID09PSAwKSB7CiAgICAvLyBldmVuLCB3ZSBuZWVkIGFuIGV4dHJhIHN0ZXAgdG8gY2FsY3VsYXRlIHRoZSBtZWRpYW4KICAgIGNvbnN0IGlkeCA9IGNvcHkubGVuZ3RoIC8gMjsKICAgIHRvdGFsLm1lZGlhbiA9CiAgICAgIChOdW1iZXIoY29weVtpZHggLSAxXS5jb2x1bW4pICsgTnVtYmVyKGNvcHlbaWR4XS5jb2x1bW4pKSAvIDIuMDsKICB9IGVsc2UgewogICAgLy8gZXpwegogICAgdG90YWwubWVkaWFuID0gTnVtYmVyKGNvcHlbTWF0aC5mbG9vcihjb3B5Lmxlbmd0aCAvIDIuMCldLmNvbHVtbik7CiAgfQoKICBmb3IgKGNvbnN0IGl0ZW0gb2YgY29weSkgewogICAgY29uc3QgeyBjb2x1bW4gfSA9IGl0ZW07CiAgICBpZiAoaXNOYU4oTnVtYmVyKGNvbHVtbikpKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgY29uc3QgbnVtQ29sID0gTnVtYmVyKGNvbHVtbik7CiAgICBjb25zdCBidWNrZXQgPSBidWNrZXRzW2Ake2l0ZW0uY2F0ZWdvcnlUeXBlfS0ke2l0ZW0ucmVzdWx0VHlwZX1gXTsKICAgIGNvbnN0IHRvdGFsS2V5ID0gYCR7aXRlbS5jYXRlZ29yeVR5cGV9LXRvdGFsYDsKICAgIGNvbnN0IHN1YlRvdGFsQnVja2V0ID0gYnVja2V0c1t0b3RhbEtleV07CiAgICBjb25zdCBkaWZmQnVja2V0ID0gbnVtQ29sIC0gYnVja2V0LmF2ZzsKICAgIGNvbnN0IGRpZmZTdWJUb3RhbCA9IG51bUNvbCAtIHN1YlRvdGFsQnVja2V0LmF2ZzsKICAgIGNvbnN0IGRpZmZUb3RhbCA9IG51bUNvbCAtIHRvdGFsLmF2ZzsKICAgIHRvdGFsLnZhcmlhbmNlICs9IE1hdGgucG93KGRpZmZUb3RhbCwgMik7CiAgICBidWNrZXQudmFyaWFuY2UgKz0gTWF0aC5wb3coZGlmZkJ1Y2tldCwgMik7CiAgICBzdWJUb3RhbEJ1Y2tldC52YXJpYW5jZSArPSBNYXRoLnBvdyhkaWZmU3ViVG90YWwsIDIpOwogIH0KCiAgdG90YWwuc3RkZXYgPSBNYXRoLnNxcnQodG90YWwudmFyaWFuY2UgLyBjb3B5Lmxlbmd0aCk7CgogIGZvciAoY29uc3QgW2J1Y2tldCwgdmFsdWVzXSBvZiBPYmplY3QuZW50cmllcyhidWNrZXRzKSkgewogICAgdmFsdWVzLnN0ZGV2ID0gTWF0aC5zcXJ0KHZhbHVlcy52YXJpYW5jZSAvIHZhbHVlcy5pdGVtcy5sZW5ndGgpOwogICAgLy8gY2xlYXJpbmcgbWVtb3J5CiAgICBkZWxldGUgdmFsdWVzLml0ZW1zOwogICAgZGVsZXRlIHZhbHVlcy52YXJpYW5jZTsKICAgIGJ1Y2tldHNbYnVja2V0XSA9IHZhbHVlczsKICB9CgogIGRlbGV0ZSB0b3RhbC5pdGVtczsKICBkZWxldGUgdG90YWwudmFyaWFuY2U7CgogIGNvbnN0IHJlc3VsdCA9IHsgdG90YWwsIC4uLmJ1Y2tldHMgfTsKCiAgLy8gaGFuZGxpbmcgaW4gdGVzdHMKICBpZiAodGhpcy5tb2NrZWRQb3N0TWVzc2FnZSkgewogICAgdGhpcy5tb2NrZWRQb3N0TWVzc2FnZSh7IHJlc3VsdCwgdHJhbnNhY3Rpb24gfSk7CiAgICByZXR1cm47CiAgfQogIHBvc3RNZXNzYWdlKHsgcmVzdWx0LCB0cmFuc2FjdGlvbiB9KTsKfTsK";

export { stats };
